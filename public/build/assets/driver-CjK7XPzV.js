import{j as e,$ as D,m}from"./app-dmRk_xSF.js";import{G as T}from"./general-dashboard-Bo6TRnK6.js";import{B as _}from"./badge-DEZpwE8-.js";import{B as x}from"./button-DfRWLWLh.js";import{C as p,a as u,b as h,c as f,d,e as j}from"./card-4lmChtC_.js";import{A,M as P}from"./app-layout-CvTHScm8.js";import{f as k}from"./format-B8Iw8-x-.js";import{P as B,T as F}from"./dashboard-chart-card-D9yKJcyP.js";import{C as L}from"./car-DrIISSj-.js";import"./app-logo-icon-DPhwaTiD.js";import"./index-Cymawgta.js";import"./createLucideIcon-C6Zxls1X.js";import"./index-BzxzypMb.js";import"./index-DS_s7J1F.js";import"./index-C9jObI59.js";import"./wrench-D44s-QhF.js";import"./index-CJBnmqfT.js";import"./chart-cy_Gs8DH.js";import"./generateCategoricalChart-4O1V2zK5.js";const M=[{title:"Dashboard",href:"/dashboard"}],R={title:"Dashboard",description:"Fleet performance, tracking, and operational insights at a glance"};function le({vehicleStats:a,maintenanceStats:c,tripStats:g,serviceStats:N,personnelStats:n,activeVehicle:s,upcomingTrips:z,latestOdometerReading:l,nextMaintenance:i,myRequests:t}){const y={title:"Total Vehicles",value:a.total,description:"as of this month",icon:L},v={title:"Today's Trips",value:g.today,description:"trips in progress",icon:P},b={title:"Maintenance Due",value:c.dueToday+c.dueSoon,description:"upcoming maintenance",icon:F},w={title:"Pending Service Requests",value:N.pending,description:"requests pending approval",icon:B},C=[{label:"Available",quantity:a.available||0,fill:"green"},{label:"In Use",quantity:a.inUse||0,fill:"yellow"},{label:"Maintenance or Repair",quantity:a.underMaintenance||0,fill:"blue"},{label:"Retired",quantity:a.retired||0,fill:"red"}],q=[{label:"Drivers",quantity:n.driver||0,fill:"green"},{label:"Mechanics",quantity:n.mechanic||0,fill:"yellow"},{label:"Manager",quantity:n.manager||0,fill:"orange"}];return e.jsxs(A,{breadcrumbs:M,pageDetails:R,children:[e.jsx(D,{title:"Dashboard"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl px-6",children:[console.log(s,l,i),e.jsx("div",{className:"flex items-center justify-between space-y-2",children:e.jsx("h2",{className:"text-2xl",children:"Information Relevant to You"})}),e.jsxs("div",{className:"flex flex-col gap-4 p-4 md:gap-8",children:[e.jsx("div",{className:"grid gap-6",children:e.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[e.jsxs(p,{className:"flex-1",children:[e.jsxs(u,{className:"pb-2",children:[e.jsx(h,{className:"text-lg",children:"Current Vehicle"}),e.jsx(f,{children:"Vehicle details and status"})]}),s?e.jsx(d,{children:e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold",children:s.vehicle_name}),e.jsx(_,{variant:s.status==="available"?"success":"destructive",children:s.status})]}),e.jsxs("div",{className:"text-muted-foreground text-sm",children:["Asset tag: ",s.asset_tag]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-medium",children:"Fuel Type"}),e.jsx("span",{children:s.fuel_type})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-medium",children:"Passenger Capacity"}),e.jsxs("span",{children:[s.capacity," Persons"]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-medium",children:"Odometer Reading"}),e.jsx("span",{className:"flex items-center gap-1",children:l==null?void 0:l.reading})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-medium",children:"Next Maintenance"}),e.jsx("span",{children:(i==null?void 0:i.scheduled_date)||"No upcoming maintenance"})]})]})]})}):e.jsx(d,{children:e.jsx("p",{className:"text-muted-foreground text-sm",children:"You currently don't have any vehicle assigned to you."})}),s&&e.jsx(j,{children:e.jsx("div",{className:"flex w-full gap-2",children:e.jsx(x,{onClick:()=>m.get(route("vehicles.show",s.vehicle_id)),variant:"outline",size:"sm",className:"flex-1",children:"View Vehicle"})})})]}),e.jsxs(p,{className:"flex-1",children:[e.jsxs(u,{className:"pb-2",children:[e.jsx(h,{className:"text-lg",children:"My Requests"}),e.jsx(f,{children:"Recent service requests you have submitted"})]}),e.jsx(d,{children:e.jsxs("div",{className:"grid gap-3",children:[console.log(t),t?t.map(r=>{var o;return e.jsxs("div",{className:"rounded-lg border p-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h4",{className:"font-medium",children:(o=r.vehicle)==null?void 0:o.vehicle_name}),e.jsx("span",{className:"text-muted-foreground text-xs",children:k(r.date_filed,"LLL dd, yyyy")})]}),e.jsx("p",{className:"mt-1 text-sm",children:r.work_description})]},r.request_id)}):e.jsx("p",{className:"text-muted-foreground text-sm",children:"No requests to show"})]})}),e.jsx(j,{children:e.jsx(x,{variant:"ghost",size:"sm",className:"w-full",onClick:()=>m.get(route("requests.index")),children:"View All Requests"})})]})]})}),e.jsx("div",{className:"flex items-center justify-between space-y-2",children:e.jsx("h2",{className:"text-2xl",children:"About Fleet"})}),e.jsx(T,{totalVehicles:y,todayTrips:v,maintenanceDue:b,pendingRequests:w,vehicleSummary:C,personnelSummary:q})]})]})]})}export{le as default};
