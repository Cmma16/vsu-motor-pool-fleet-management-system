import{j as e,$ as b}from"./app-dmRk_xSF.js";import{G as y}from"./general-dashboard-Bo6TRnK6.js";import{C as t,a as d,b as c,c as o,d as l}from"./card-4lmChtC_.js";import{c as N}from"./createLucideIcon-C6Zxls1X.js";import{B as q}from"./badge-DEZpwE8-.js";import{B as n}from"./button-DfRWLWLh.js";import{A as w,M}from"./app-layout-CvTHScm8.js";import{P as k,T as A}from"./dashboard-chart-card-D9yKJcyP.js";import{C}from"./car-DrIISSj-.js";import"./app-logo-icon-DPhwaTiD.js";import"./index-Cymawgta.js";import"./index-BzxzypMb.js";import"./index-DS_s7J1F.js";import"./index-C9jObI59.js";import"./wrench-D44s-QhF.js";import"./index-CJBnmqfT.js";import"./chart-cy_Gs8DH.js";import"./generateCategoricalChart-4O1V2zK5.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],r=N("OctagonAlert",D);function $({lowStockParts:a}){return e.jsxs(t,{className:"lg:col-span-3",children:[e.jsxs(d,{children:[e.jsx(c,{children:"Low Stock Parts"}),e.jsx(o,{children:"Parts that are running low"})]}),e.jsx(l,{children:e.jsx("div",{className:"space-y-4",children:a.length===0?e.jsxs("div",{className:"text-muted-foreground flex flex-col items-center justify-center py-8",children:[e.jsx(r,{className:"mb-2 h-8 w-8 text-green-500"}),e.jsx("span",{className:"text-lg font-medium",children:"All parts are sufficiently stocked!"})]}):a.map(s=>e.jsx(t,{className:"overflow-hidden border-l-4 border-l-[#dc2626]",children:e.jsx(l,{className:"p-2",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:s.part_name},`name-${s.id}`),e.jsxs("p",{className:"text-muted-foreground text-sm",children:["Current Stock: ",s.stock_quantity," ",s.unit]},`stock-${s.id}`),e.jsxs("div",{className:"mt-1 flex items-center gap-1 text-red-500",children:[e.jsx(r,{className:"h-3 w-3"}),e.jsxs("span",{className:"text-xs",children:["Restock Threshold: ",s.restock_threshold," ",s.unit]})]},`threshold-${s.id}`)]})})})},`part-${s.id}`))})})]})}function P({upcomingMaintenancePlans:a}){return e.jsxs(t,{className:"lg:col-span-4",children:[e.jsxs(d,{className:"pb-2",children:[e.jsx(c,{children:"Upcoming Maintenance Plans"}),e.jsx(o,{children:"Scheduled maintenance plans for the next 7 days"})]}),e.jsx(l,{children:e.jsx("div",{className:"grid gap-4",children:a.length===0?e.jsxs("div",{className:"text-muted-foreground flex flex-col items-center justify-center py-8",children:[e.jsx("span",{className:"mb-2 text-3xl",children:"ðŸŽ‰"}),e.jsx("span",{className:"text-lg font-medium",children:"No maintenance plans scheduled for the next 7 days!"})]}):a.map(s=>e.jsxs("div",{className:"rounded-lg border p-3",children:[e.jsxs("div",{className:"flex flex-col justify-between gap-1 sm:flex-row sm:items-center",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-semibold",children:`Maintenance Plan for ${s.vehicle.vehicle_name}`}),e.jsx(q,{variant:s.status==="Pending Approval"?"outline":"secondary",children:s.status},`badge-${s.id}`)]}),e.jsx("div",{className:"text-muted-foreground text-sm",children:s.vehicle.vehicle_name})]}),e.jsx("div",{className:"mt-1 text-sm sm:mt-0 sm:text-right",children:e.jsx("div",{children:s.scheduled_date})})]}),e.jsxs("div",{className:"mt-2 flex gap-2",children:[e.jsx(n,{variant:"outline",size:"sm",children:"View Details"},`view-${s.id}`),s.status==="scheduled"&&e.jsx(n,{variant:"outline",size:"sm",children:"File a Request"},`request-${s.id}`)]})]},`plan-${s.id}`))})})]})}const T=[{title:"Dashboard",href:"/dashboard"}],_={title:"Dashboard",description:"Fleet performance, tracking, and operational insights at a glance"};function Z({vehicleStats:a,maintenanceStats:s,tripStats:m,serviceStats:x,lowStockParts:h,personnelStats:i}){const u={title:"Total Vehicles",value:a.total,description:"as of this month",icon:C},p={title:"Today's Trips",value:m.today,description:"trips in progress",icon:M},f={title:"Maintenance Due",value:s.dueToday+s.dueSoon,description:"upcoming maintenance",icon:A},j={title:"Pending Service Requests",value:x.pending,description:"requests pending approval",icon:k},g=[{label:"Available",quantity:a.available||0,fill:"green"},{label:"In Use",quantity:a.inUse||0,fill:"yellow"},{label:"Maintenance or Repair",quantity:a.underMaintenance||0,fill:"blue"},{label:"Retired",quantity:a.retired||0,fill:"red"}],v=[{label:"Drivers",quantity:i.driver||0,fill:"green"},{label:"Mechanics",quantity:i.mechanic||0,fill:"yellow"},{label:"Manager",quantity:i.manager||0,fill:"orange"}];return e.jsxs(w,{breadcrumbs:T,pageDetails:_,children:[e.jsx(b,{title:"Dashboard"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl px-6",children:[e.jsx("div",{className:"flex items-center justify-between space-y-2",children:e.jsx("h2",{className:"text-2xl",children:"About Fleet"})}),e.jsxs("div",{className:"flex flex-col gap-4 p-4 md:gap-8",children:[e.jsx(y,{totalVehicles:u,todayTrips:p,maintenanceDue:f,pendingRequests:j,vehicleSummary:g,personnelSummary:v}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-7",children:[e.jsx(P,{upcomingMaintenancePlans:s.upcoming}),e.jsx($,{lowStockParts:h})]})]})]})]})}export{Z as default};
