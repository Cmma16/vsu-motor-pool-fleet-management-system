import{q as n,j as e,$ as o,Y as p,m as a,t as l}from"./app-dmRk_xSF.js";import{B as t}from"./button-DfRWLWLh.js";import{C as m,a as x,b as h,c as j,d as f}from"./card-4lmChtC_.js";import{L as r}from"./label-tcdczQa9.js";import{A as u}from"./app-layout-CvTHScm8.js";import{A as v}from"./arrow-left-Cvya_i_-.js";import{f as d}from"./format-B8Iw8-x-.js";import"./app-logo-icon-DPhwaTiD.js";import"./index-DS_s7J1F.js";import"./index-Cymawgta.js";import"./createLucideIcon-C6Zxls1X.js";import"./index-BzxzypMb.js";import"./index-C9jObI59.js";import"./wrench-D44s-QhF.js";const y=[{title:"Service Requests",href:"/services/requests"},{title:"Details",href:"services/requests/details"}],_={title:"Request Details",description:"Comprehensive information about the service being requested."},c=(s,i)=>{a.patch(route("requests.updateStatus",s),{status:i},{onSuccess:()=>{l.success(`Service request ${i}`,{description:"Service request status updated successfully"})},onError:N=>{l.error("Service request status update failed",{description:"Please try again"})},onFinish:()=>{a.reload()}})};function E({serviceRequest:s}){const i=n().props.auth.user;return e.jsxs(u,{breadcrumbs:y,pageDetails:_,children:[e.jsx(o,{title:"Repair Details"}),e.jsxs("div",{className:"mx-6 mb-3 space-y-6 rounded-lg",children:[e.jsxs(m,{className:"w-full",children:[e.jsxs(x,{children:[e.jsx(h,{children:"Service Request Information"}),e.jsx(j,{children:"General overview of the request."})]}),e.jsx(f,{children:e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx(r,{htmlFor:"vehicle_name",children:"Vehicle Name"}),e.jsx("span",{children:s.vehicle_name})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx(r,{htmlFor:"requested_by",children:"Requested by"}),e.jsx("span",{children:s.requested_by})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx(r,{htmlFor:"date_filed",children:"Date Filed"}),e.jsx("span",{children:d(s.date_filed,"LLL dd, y HH:mm")})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx(r,{htmlFor:"service_type",children:"Service Type"}),e.jsx("span",{children:s.service_type})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx(r,{htmlFor:"work_description",children:"Work Description"}),e.jsx("span",{children:s.work_description})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx(r,{htmlFor:"received_by",children:"Received By"}),e.jsx("span",{children:s.received_by})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx(r,{htmlFor:"date_received",children:"Date Received"}),e.jsx("span",{children:s.date_received?d(s.date_received,"LLL dd, y HH:mm"):"N/A"})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx(r,{htmlFor:"status",children:"Status"}),e.jsx("span",{children:s.status})]}),s.status==="inspected"&&i.role.name==="Manager"&&e.jsxs("div",{className:"col-span-2 flex gap-2",children:[e.jsx(t,{onClick:()=>c(s.request_id,"approved"),children:"Approve Request"}),e.jsx(t,{variant:"destructive",onClick:()=>c(s.request_id,"rejected"),children:"Reject Request"})]}),s.status==="pending"&&i.role.name==="Driver"&&e.jsx(p,{href:`${s.request_id}/edit`,className:"col-span-2 w-1/3 rounded-md bg-[#006600] px-3 py-2 text-center text-white hover:bg-[#005500]",children:"Edit Request"})]})})})]}),s.inspection_id!=="N/A"&&e.jsxs(t,{variant:"outline",onClick:()=>a.get(route("request-inspections.show",s.inspection_id)),children:[e.jsx(v,{})," View Inspection"]})]})]})}export{E as default};
