import{j as e,$ as D,m as t}from"./app-CLKafMi8.js";import{G as w}from"./general-dashboard-DpLc1CuS.js";import{B as c}from"./badge-C6hRO3uT.js";import{B as o}from"./button-BjJxCl2U.js";import{C as m,a as x,b as p,c as h,d as f}from"./card-DGsM5wb-.js";import{A as C,M}from"./app-layout-DVg1ib_u.js";import{P as T,T as $}from"./dashboard-chart-card-CnDWq6ac.js";import{C as I}from"./car-Dw-8_TpW.js";import{f as k}from"./format-Dc8-h87M.js";import"./app-logo-icon-Duf-p-hV.js";import"./index-DDbGhVyI.js";import"./createLucideIcon-BqkyE-xM.js";import"./index-CbVnBepr.js";import"./index-DOfCkWky.js";import"./index-YJI3hRqt.js";import"./wrench-BvQdNsdS.js";import"./index-BCvKXVy8.js";import"./chart-Bi6hoJ7-.js";import"./generateCategoricalChart-D2sX8lJh.js";const A=[{title:"Dashboard",href:"/dashboard"}],R={title:"Dashboard",description:"Fleet performance, tracking, and operational insights at a glance"};function ee({vehicleStats:a,maintenanceStats:r,tripStats:u,serviceStats:v,personnelStats:l,uninspectedRequests:n,approvedRequests:d}){const j={title:"Total Vehicles",value:a.total,description:"as of this month",icon:I},g={title:"Today's Trips",value:u.today,description:"trips in progress",icon:M},y={title:"Maintenance Due",value:r.dueToday+r.dueSoon,description:"upcoming maintenance",icon:$},N={title:"Pending Service Requests",value:v.pending,description:"requests pending approval",icon:T},b=[{label:"Available",quantity:a.available||0,fill:"green"},{label:"In Use",quantity:a.inUse||0,fill:"yellow"},{label:"Maintenance or Repair",quantity:a.underMaintenance||0,fill:"blue"},{label:"Retired",quantity:a.retired||0,fill:"red"}],_=[{label:"Drivers",quantity:l.driver||0,fill:"green"},{label:"Mechanics",quantity:l.mechanic||0,fill:"yellow"},{label:"Manager",quantity:l.manager||0,fill:"orange"}],s=i=>k(new Date(i),"MMMM dd, yyyy");return e.jsxs(C,{breadcrumbs:A,pageDetails:R,children:[e.jsx(D,{title:"Dashboard"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl px-6",children:[e.jsx("div",{className:"flex items-center justify-between space-y-2",children:e.jsx("h2",{className:"text-2xl",children:"About Fleet"})}),e.jsxs("div",{className:"flex flex-col gap-4 p-4 md:gap-8",children:[e.jsx(w,{totalVehicles:j,todayTrips:g,maintenanceDue:y,pendingRequests:N,vehicleSummary:b,personnelSummary:_}),e.jsx("div",{className:"grid gap-6",children:e.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[e.jsxs(m,{className:"flex-1",children:[e.jsxs(x,{className:"pb-2",children:[e.jsx(p,{children:"Uninspected Requests"}),e.jsx(h,{children:"Service requests that need to be inspected"})]}),e.jsx(f,{children:e.jsx("div",{className:"grid gap-4",children:n.length===0?e.jsx("div",{className:"text-muted-foreground flex flex-col items-center justify-center py-8",children:e.jsx("span",{className:"text-lg font-medium",children:"No uninspected requests found"})}):n.map(i=>e.jsxs("div",{className:"rounded-lg border p-3",children:[e.jsxs("div",{className:"flex flex-col justify-between gap-1 sm:flex-row sm:items-center",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-semibold",children:i.work_description}),e.jsx(c,{variant:i.status==="pending"?"outline":"secondary",children:i.status},`badge-${i.id}`)]}),e.jsx("div",{className:"text-muted-foreground text-sm",children:i.vehicle_name})]}),e.jsxs("div",{className:"mt-1 text-sm sm:mt-0 sm:text-right",children:[e.jsx("div",{children:s(i.date_filed)}),e.jsx("div",{className:"text-muted-foreground",children:`${i.status} at ${s(i.updated_at)}`})]})]}),e.jsx("div",{className:"mt-2 flex gap-2",children:e.jsx(o,{variant:"outline",size:"sm",onClick:()=>{t.get(route("request-inspections.create",{data:{requestId:i.request_id,vehicleId:i.vehicle_id}}))},children:"View Details"})})]},`request-${i.request_id}`))})})]}),e.jsxs(m,{className:"max-h-96 flex-1 overflow-y-auto",children:[e.jsxs(x,{className:"pb-2",children:[e.jsx(p,{children:"Approved Requests"}),e.jsx(h,{children:"Service requests that are ready for repair/maintenance"})]}),e.jsx(f,{children:e.jsx("div",{className:"grid gap-4",children:d.length===0?e.jsxs("div",{className:"text-muted-foreground flex flex-col items-center justify-center py-8",children:[e.jsx("span",{className:"mb-2 text-3xl",children:"ðŸ˜¢"}),e.jsx("span",{className:"text-lg font-medium",children:"No approved requests found"})]}):d.map(i=>e.jsxs("div",{className:"rounded-lg border p-3",children:[e.jsxs("div",{className:"flex flex-col justify-between gap-1 sm:flex-row sm:items-center",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-semibold",children:i.work_description}),e.jsx(c,{variant:i.status==="pending"?"outline":"secondary",children:i.status},`badge-${i.id}`)]}),e.jsx("div",{className:"text-muted-foreground text-sm",children:i.vehicle_name})]}),e.jsxs("div",{className:"mt-1 text-sm sm:mt-0 sm:text-right",children:[e.jsx("div",{children:s(i.date_filed)}),e.jsx("div",{className:"text-muted-foreground",children:`${i.status} at ${s(i.updated_at)}`})]})]}),e.jsx("div",{className:"mt-2 flex gap-2",children:e.jsx(o,{variant:"outline",size:"sm",onClick:()=>{i.service_type==="repair"?t.get(route("repairs.create",{data:{requestId:i.request_id,vehicleId:i.vehicle_id}})):i.service_type==="maintenance"?t.get(route("maintenance.create",{data:{requestId:i.request_id,vehicleId:i.vehicle_id}})):i.service_type==="preventive"&&t.get(route("preventive.create",{data:{requestId:i.request_id,vehicleId:i.vehicle_id}}))},children:"View Details"})})]},`request-${i.request_id}`))})})]})]})})]})]})]})}export{ee as default};
