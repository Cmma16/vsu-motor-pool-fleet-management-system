import{j as e,v as _,$ as b,t as x}from"./app-CLKafMi8.js";import{I as o}from"./input-error-D2Kuilvy.js";import{O as g}from"./odometer-log-modal-DbiIyGvz.js";import{B as v}from"./button-BjJxCl2U.js";import{I as u}from"./input-BZPmkLvt.js";import{L as t}from"./label-CEnKmdYU.js";import{S as y,a as f,b as N,c as w,d as C}from"./select-Dh-P3SFY.js";import{C as S,a as I,b as M,c as F,d as E}from"./card-DGsM5wb-.js";import{A as k}from"./app-layout-DVg1ib_u.js";import"./app-logo-icon-Duf-p-hV.js";import"./odometer-log-form-DlFxGX-s.js";import"./index-DOfCkWky.js";import"./index-DDbGhVyI.js";import"./createLucideIcon-BqkyE-xM.js";import"./index-CbVnBepr.js";import"./index-d59M3VVJ.js";import"./index-YJI3hRqt.js";import"./wrench-BvQdNsdS.js";function q({formData:d,formType:c,setData:r,onSubmit:m,processing:s,errors:n,presets:i,odometerLogs:l,vehicles:p,lockInputs:h}){return e.jsxs("form",{onSubmit:m,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"vehicle_id",children:"Vehicle"}),e.jsx("span",{className:"block w-full rounded-md border border-gray-300 bg-white px-3 py-2 shadow-sm sm:text-sm",children:i.vehicle_name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"request_id",children:"Request Description"}),e.jsx("span",{className:"block w-full rounded-md border border-gray-300 bg-white px-3 py-2 shadow-sm sm:text-sm",children:i.request_description})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"plan_id",children:"Maintenance Plan"}),e.jsx("span",{className:"block w-full rounded-md border border-gray-300 bg-white px-3 py-2 shadow-sm sm:text-sm",children:i.plan_description})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"date_in",children:"Date In"}),e.jsx(u,{id:"date_in",type:"date",value:d.date_in,onChange:a=>r("date_in",a.target.value),disabled:s,tabIndex:4}),e.jsx(o,{message:n.date_in})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"date_completed",children:"Date Completed"}),e.jsx(u,{id:"date_completed",type:"date",value:d.date_completed,onChange:a=>r("date_completed",a.target.value),disabled:s,tabIndex:5}),e.jsx(o,{message:n.date_completed})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"maintenance_summary",children:"Summary"}),e.jsx(u,{id:"maintenance_summary",name:"maintenance_summary",placeholder:"Description of the maintenance conducted",value:d.maintenance_summary,onChange:a=>r("maintenance_summary",a.target.value),disabled:s,tabIndex:5}),e.jsx(o,{message:n.maintenance_summary})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"odometer_id",children:"Odometer Reading"}),e.jsxs(y,{disabled:h,value:String(d.odometer_id),onValueChange:a=>r("odometer_id",Number(a)),children:[e.jsx(f,{id:"odometer_id",tabIndex:2,children:e.jsx(N,{placeholder:"Select odometer reading"})}),e.jsx(w,{children:l.map(a=>e.jsx(C,{value:String(a.odometer_id),children:a.reading},a.odometer_id))})]}),e.jsx(g,{vehicles:p,formType:"add",vehicle_id:i.vehicle_id}),e.jsx(o,{message:n.odometer_id})]})]}),e.jsx(v,{disabled:s,className:"w-1/3",children:c==="edit"?"Save Changes":"Add Maintenance"})]})}const A=[{title:"Maintenance",href:"/maintenance"},{title:"Edit",href:"maintenance/edit"}],D={title:"Edit Maintenance Details",description:"Update the details of the maintenance request."};function Z({maintenance:d,odometerLogs:c,vehicles:r}){const{data:m,setData:s,put:n,processing:i,errors:l,reset:p}=_({date_in:d.date_in,date_completed:d.date_completed,maintenance_summary:d.maintenance_summary,odometer_id:d.odometer_id}),h=a=>{a.preventDefault(),n(route("maintenance.update",d.maintenance_id),{preserveScroll:!0,onSuccess:()=>{p(),x.success("Maintenance record updated",{description:"Maintenance record updated successfully"})},onError:j=>{console.log(j),x.error("Failed to update maintenance record",{description:"An error occurred while updating the maintenance record"})}})};return e.jsxs(k,{breadcrumbs:A,pageDetails:D,children:[e.jsx(b,{title:"Maintenance"}),e.jsx("div",{className:"mx-6 mb-3 space-y-6 rounded-lg bg-white",children:e.jsxs(S,{className:"w-full",children:[e.jsxs(I,{children:[e.jsx(M,{children:"Maintenance Information"}),e.jsx(F,{children:"Update the details of the maintenance record."})]}),e.jsx(E,{children:e.jsx(q,{formData:m,formType:"edit",setData:s,onSubmit:h,processing:i,errors:l,presets:d,odometerLogs:c,vehicles:r,lockInputs:!0})})]})}),e.jsx("div",{className:"border-sidebar-border/70 dark:border-sidebar-border relative min-h-[100vh] flex-1 overflow-hidden rounded-xl border md:min-h-min"})]})}export{Z as default};
