import{R as h,v as j,j as e,$ as P,t as a}from"./app-dmRk_xSF.js";import{R}from"./repair-form-Fyum1qFu.js";import{C as g,a as C,b as _,c as D,d as M}from"./card-4lmChtC_.js";import{A as w}from"./app-layout-CvTHScm8.js";import"./input-error-BIGrXHCO.js";import"./app-logo-icon-DPhwaTiD.js";import"./odometer-log-modal-BYge-9rx.js";import"./odometer-log-form-Dz18aUlL.js";import"./input-uEZiaGVz.js";import"./label-tcdczQa9.js";import"./index-DS_s7J1F.js";import"./button-DfRWLWLh.js";import"./select-DTbPtvM0.js";import"./index-Cymawgta.js";import"./createLucideIcon-C6Zxls1X.js";import"./index-BzxzypMb.js";import"./index-Dnf0Jnlg.js";import"./badge-DEZpwE8-.js";import"./textarea-ENukNeqr.js";import"./index-C9jObI59.js";import"./wrench-D44s-QhF.js";const y=[{title:"Preventive Maintenance",href:"/preventive"},{title:"New preventive maintenance record",href:"/repairs/add-preventive"}],b={title:"Vehicle Preventive Maintenance Record",description:"Record the details of a vehicle preventive maintenance record."};function Z({vehicles:n,users:o,serviceRequests:s,odometerLogs:c,requestId:r,vehicleId:t}){const[d,A]=h.useState(1),{data:i,setData:m,post:p,processing:v,errors:l,reset:u}=j({vehicle_id:t||"",request_id:r||"",date_in:"",date_completed:"",odometer_id:"",maintenance_summary:"",parts_used:[]}),x=f=>{f.preventDefault(),p(route("preventive.store"),{data:i,onSuccess:()=>{a.success("Preventive Maintenance Recorded",{description:"Preventive maintenance record created successfully."}),u()},onError:E=>{a.error("Error",{description:"An error occurred while creating the preventive maintenance record."})}})};return e.jsxs(w,{breadcrumbs:y,pageDetails:b,children:[e.jsx(P,{title:"Preventive Miantenance"}),e.jsx("div",{className:"mx-2 my-4 flex flex-col gap-6 md:flex-row md:gap-8",children:e.jsxs(g,{className:"mx-auto w-full md:max-w-xl",children:[e.jsxs(C,{children:[e.jsx(_,{children:d===1?"Preventive Maintenance Details":"Parts used"}),e.jsx(D,{children:"Enter the details of the preventive maintenance conducted."})]}),e.jsx(M,{children:e.jsx(R,{formData:i,formType:"add",setData:m,onSubmit:x,processing:v,errors:l,vehicles:n,users:o,serviceRequests:s,odometerLogs:c,lockInputs:r&&t})})]})})]})}export{Z as default};
