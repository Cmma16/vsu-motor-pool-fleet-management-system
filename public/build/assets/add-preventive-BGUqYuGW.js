import{R as h,v as j,j as e,$ as P,t as a}from"./app-CLKafMi8.js";import{R}from"./repair-form-8WCJn9Ic.js";import{C as g,a as C,b as _,c as D,d as M}from"./card-DGsM5wb-.js";import{A as w}from"./app-layout-DVg1ib_u.js";import"./input-error-D2Kuilvy.js";import"./app-logo-icon-Duf-p-hV.js";import"./odometer-log-modal-DbiIyGvz.js";import"./odometer-log-form-DlFxGX-s.js";import"./input-BZPmkLvt.js";import"./label-CEnKmdYU.js";import"./index-DOfCkWky.js";import"./button-BjJxCl2U.js";import"./select-Dh-P3SFY.js";import"./index-DDbGhVyI.js";import"./createLucideIcon-BqkyE-xM.js";import"./index-CbVnBepr.js";import"./index-d59M3VVJ.js";import"./badge-C6hRO3uT.js";import"./textarea-i2pfz0MG.js";import"./index-YJI3hRqt.js";import"./wrench-BvQdNsdS.js";const y=[{title:"Preventive Maintenance",href:"/preventive"},{title:"New preventive maintenance record",href:"/repairs/add-preventive"}],b={title:"Vehicle Preventive Maintenance Record",description:"Record the details of a vehicle preventive maintenance record."};function Z({vehicles:n,users:o,serviceRequests:s,odometerLogs:c,requestId:r,vehicleId:t}){const[d,A]=h.useState(1),{data:i,setData:m,post:p,processing:v,errors:l,reset:u}=j({vehicle_id:t||"",request_id:r||"",date_in:"",date_completed:"",odometer_id:"",maintenance_summary:"",parts_used:[]}),x=f=>{f.preventDefault(),p(route("preventive.store"),{data:i,onSuccess:()=>{a.success("Preventive Maintenance Recorded",{description:"Preventive maintenance record created successfully."}),u()},onError:E=>{a.error("Error",{description:"An error occurred while creating the preventive maintenance record."})}})};return e.jsxs(w,{breadcrumbs:y,pageDetails:b,children:[e.jsx(P,{title:"Preventive Miantenance"}),e.jsx("div",{className:"mx-2 my-4 flex flex-col gap-6 md:flex-row md:gap-8",children:e.jsxs(g,{className:"mx-auto w-full md:max-w-xl",children:[e.jsxs(C,{children:[e.jsx(_,{children:d===1?"Preventive Maintenance Details":"Parts used"}),e.jsx(D,{children:"Enter the details of the preventive maintenance conducted."})]}),e.jsx(M,{children:e.jsx(R,{formData:i,formType:"add",setData:m,onSubmit:x,processing:v,errors:l,vehicles:n,users:o,serviceRequests:s,odometerLogs:c,lockInputs:r&&t})})]})})]})}export{Z as default};
